{% extends "base.html" %}
{% block content %}

<div class="card p-3">

  <div class="row">
    <div class="col-md-3">
      {% if profile.profile_picture %}
        <img src="{{ profile.profile_picture.url }}" class="img-fluid rounded">
      {% else %}
        <div class="bg-secondary text-white text-center p-4 rounded">
          No Photo
        </div>
      {% endif %}
    </div>

    <div class="col-md-9">
      <h3>
        {% if user_obj.first_name %}
          {{ user_obj.first_name }} {{ user_obj.last_name }}
        {% else %}
          {{ user_obj.username }}
        {% endif %}
      </h3>

      <p><strong>Email:</strong> {{ user_obj.email }}</p>

      <p><strong>Education:</strong> {{ profile.education }}</p>

      <p><strong>Specialization:</strong> {{ profile.specialization }}</p>

      <p><strong>Certifications:</strong> {{ profile.certifications }}</p>

      <p><strong>Bio:</strong> {{ profile.bio }}</p>

      {% if profile.linkedin %}
        <p><a href="{{ profile.linkedin }}" target="_blank">LinkedIn Profile</a></p>
      {% endif %}

      <a href="{% url 'edit_profile' %}" class="btn btn-primary">
        Edit Profile
      </a>
    </div>
  </div>

  <hr>

  <h5>Skills I Can Teach</h5>
  <ul>
    {% for s in teach_skills %}
      <li>{{ s.skill }} ({{ s.experience_level }})</li>
    {% empty %}
      <li>No teaching skills added yet.</li>
    {% endfor %}
  </ul>

  <h5>Skills I Want To Learn</h5>
  <ul>
    {% for s in learn_skills %}
      <li>{{ s.skill }} ({{ s.priority_level }})</li>
    {% empty %}
      <li>No learning skills added yet.</li>
    {% endfor %}
  </ul>

  <hr>

  <h5>Reviews About Me</h5>

  {% if reviews %}
    <ul>
      {% for r in reviews %}
        <li>⭐ {{ r.rating }}/5 — {{ r.comments }}</li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No reviews yet.</p>
  {% endif %}

</div>

{% endblock %}
