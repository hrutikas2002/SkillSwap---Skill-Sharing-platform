{% extends "base.html" %} {% block content %}
<div class="row mb-4 align-items-center">
  <div class="col-md-8">
    <h2 class="fw-bold">
      <i class="bi bi-people-fill text-primary me-2"></i>Available Teachers
    </h2>
    <p class="text-muted">
      We found these experts who can teach the skills you want to learn.
    </p>
  </div>
  <div class="col-md-4 text-md-end">
    <a
      href="{% url 'dashboard' %}"
      class="btn btn-outline-secondary btn-sm"
      title="Go to Dashboard"
    >
      <i class="bi bi-house-fill"></i>
    </a>

    <a href="{% url 'select_skills' %}" class="btn btn-outline-primary btn-sm">
      <i class="bi bi-plus-circle me-1"></i> Update My Interests
    </a>
  </div>
</div>

{% if matches %}
<div class="row g-4">
  {% for m in matches %}
  <div class="col-md-6 col-lg-4">
    <div class="card h-100 shadow-sm border-0 hover-shadow transition">
      <div class="card-body">
        <div class="mb-3">
          <span
            class="badge bg-primary-subtle text-primary border border-primary-subtle px-3 py-2 rounded-pill"
          >
            {{ m.skill }}
          </span>
        </div>

        <div class="d-flex align-items-center mb-3">
          <div class="flex-shrink-0">
            {% if m.user.userprofile.profile_picture %}
  <img 
      src="{{ m.user.userprofile.profile_picture.url }}" 
      class="rounded-circle border"
      style="width: 50px; height: 50px; object-fit: cover;"
  />
{% else %}
  <div
    class="bg-secondary text-white rounded-circle d-flex align-items-center justify-content-center fw-bold"
    style="width: 50px; height: 50px; font-size: 1.2rem"
  >
    {{ m.user.first_name|slice:":1" }}{{ m.user.last_name|slice:":1" }}
  </div>
{% endif %}

          </div>
          <div class="ms-3">
            <h5 class="card-title mb-0">
              {{ m.user.first_name }} {{ m.user.last_name }}
            </h5>
            <small class="text-muted"
              >Level:
              <span class="text-dark fw-medium"
                >{{ m.experience_level }}</span
              ></small
            >
          </div>
        </div>
      </div>

      <div class="card-footer bg-transparent border-0 pb-4 px-4">
        <a
          href="{% url 'view_teacher_profile' m.user.id %}"
          class="btn btn-primary w-100 rounded-pill"
        >
          View Full Profile
        </a>
      </div>
    </div>
  </div>
  {% endfor %}
</div>

{% else %}
<div class="text-center py-5 mt-4 bg-white rounded shadow-sm">
  <i class="bi bi-search text-muted" style="font-size: 4rem"></i>
  <h4 class="mt-3 text-secondary">No matches found yet</h4>
  <p class="text-muted px-4">
    Try adding more skills you want to learn or check back later!
  </p>
  <a href="{% url 'select_skills' %}" class="btn btn-primary px-4 mt-2"
    >Add More Skills</a
  >
</div>
{% endif %}

<style>
  /* Subtle hover effect for the cards */
  .hover-shadow:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1) !important;
    transition: all 0.3s ease;
  }
  .bg-primary-subtle {
    background-color: #e7f1ff;
  }
</style>

{% endblock %}
